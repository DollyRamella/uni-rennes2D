import{b as s}from"./main-40c79f74.js";import"./init-7741dda9.js";let i,r;WA.onInit().then(async()=>{s(),i=await WA.room.getTiledMap(),n()}).catch(o=>console.error(o));function a(o,e){WA.room.setProperty("ExitZones/"+o,"exitUrl",void 0),WA.room.onEnterLayer("ExitZones/"+o).subscribe(()=>{r=WA.ui.displayActionMessage({message:"Go to room ?",callback:()=>{WA.nav.goToRoom(e)}})}),WA.room.onLeaveLayer("ExitZones/"+o).subscribe(()=>{setTimeout(()=>{r.remove()},1e3)})}function n(){for(let o of i.layers)if(o.name==="ExitZones"&&o.type==="group"&&(o==null?void 0:o.layers)!=null){for(let e of o.layers)if((e==null?void 0:e.properties)!=null)for(let t of e.properties)t.name==="exitUrl"&&(t==null?void 0:t.value)!=null&&t.type==="string"&&a(e.name,t.value)}}
